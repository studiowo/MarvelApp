//
//  CollectionViewLayout.swift
//  MarvelApp
//
//  Created by Renato Matos de Paula on 29/07/19.
//  Copyright Â© 2019 Renato Matos de Paula. All rights reserved.
//

import UIKit

extension CollectionViewSource: UICollectionViewDelegateFlowLayout {
    
    func collectionView(_ collectionView: UICollectionView,
                        layout collectionViewLayout: UICollectionViewLayout,
                        insetForSectionAt section: Int) -> UIEdgeInsets {
        return spacements.margin
    }
    
    func collectionView(_ collectionView: UICollectionView,
                        layout collectionViewLayout: UICollectionViewLayout,
                        minimumLineSpacingForSectionAt section: Int) -> CGFloat {
        return spacements.verticalPadding
    }
    
    func collectionView(_ collectionView: UICollectionView,
                        layout collectionViewLayout: UICollectionViewLayout,
                        minimumInteritemSpacingForSectionAt section: Int) -> CGFloat {
        return spacements.horizontalPadding
    }
    
    func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAt indexPath: IndexPath) -> CGSize {
        guard
            let data = itemAt(indexPath),
            let item = data.cell.reuse(collectionView, indexPath: indexPath) as? CollectionViewCell
            else {
                return .zero
        }
        
        return data.size(cell: item, data: data, indexPath: indexPath, view: collectionView, height: nil, isHorizontal: false)
    }
}
